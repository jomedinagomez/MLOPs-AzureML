
Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
 <= read (data resources)

Terraform will perform the following actions:

  # azapi_resource.dev_workspace_to_dev_registry_outbound_rule will be created
  + resource "azapi_resource" "dev_workspace_to_dev_registry_outbound_rule" {
      + body                      = {
          + properties = {
              + category    = "UserDefined"
              + destination = {
                  + serviceResourceId = (known after apply)
                  + subresourceTarget = "amlregistry"
                }
              + type        = "PrivateEndpoint"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = (known after apply)
      + name                      = "AllowDevRegistryAccess"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/workspaces/outboundRules@2024-10-01-preview"
    }

  # azapi_resource.prod_workspace_to_dev_registry_outbound_rule will be created
  + resource "azapi_resource" "prod_workspace_to_dev_registry_outbound_rule" {
      + body                      = {
          + properties = {
              + category    = "UserDefined"
              + destination = {
                  + serviceResourceId = (known after apply)
                  + subresourceTarget = "amlregistry"
                }
              + type        = "PrivateEndpoint"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = (known after apply)
      + name                      = "AllowDevRegistryAccess"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/workspaces/outboundRules@2024-10-01-preview"
    }

  # azapi_resource.prod_workspace_to_prod_registry_outbound_rule will be created
  + resource "azapi_resource" "prod_workspace_to_prod_registry_outbound_rule" {
      + body                      = {
          + properties = {
              + category    = "UserDefined"
              + destination = {
                  + serviceResourceId = (known after apply)
                  + subresourceTarget = "amlregistry"
                }
              + type        = "PrivateEndpoint"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = (known after apply)
      + name                      = "AllowProdRegistryAccess"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/workspaces/outboundRules@2024-10-01-preview"
    }

  # azuread_application.deployment_sp_app will be created
  + resource "azuread_application" "deployment_sp_app" {
      + app_role_ids                = (known after apply)
      + client_id                   = (known after apply)
      + description                 = "Service Principal for Azure ML platform deployment automation (all environments)"
      + disabled_by_microsoft       = (known after apply)
      + display_name                = "sp-aml-deployment-platform"
      + id                          = (known after apply)
      + logo_url                    = (known after apply)
      + oauth2_permission_scope_ids = (known after apply)
      + object_id                   = (known after apply)
      + owners                      = [
          + "151ea030-5798-42a0-a35d-5e7596c1bd6e",
        ]
      + prevent_duplicate_names     = false
      + publisher_domain            = (known after apply)
      + sign_in_audience            = "AzureADMyOrg"
      + tags                        = [
          + "ManagedBy:Terraform",
          + "Purpose:MLOps-Deployment",
          + "Scope:AllEnvironments",
        ]
      + template_id                 = (known after apply)

      + feature_tags (known after apply)
    }

  # azuread_application_password.deployment_sp_secret will be created
  + resource "azuread_application_password" "deployment_sp_secret" {
      + application_id = (known after apply)
      + display_name   = "Terraform Deployment Secret - Platform"
      + end_date       = (known after apply)
      + id             = (known after apply)
      + key_id         = (known after apply)
      + start_date     = (known after apply)
      + value          = (sensitive value)
    }

  # azuread_service_principal.deployment_sp will be created
  + resource "azuread_service_principal" "deployment_sp" {
      + account_enabled              = true
      + app_role_assignment_required = false
      + app_role_ids                 = (known after apply)
      + app_roles                    = (known after apply)
      + application_tenant_id        = (known after apply)
      + client_id                    = (known after apply)
      + description                  = "Service Principal for Azure ML platform deployment via Terraform (all environments)"
      + display_name                 = (known after apply)
      + homepage_url                 = (known after apply)
      + id                           = (known after apply)
      + logout_url                   = (known after apply)
      + oauth2_permission_scope_ids  = (known after apply)
      + oauth2_permission_scopes     = (known after apply)
      + object_id                    = (known after apply)
      + owners                       = [
          + "151ea030-5798-42a0-a35d-5e7596c1bd6e",
        ]
      + redirect_uris                = (known after apply)
      + saml_metadata_url            = (known after apply)
      + service_principal_names      = (known after apply)
      + sign_in_audience             = (known after apply)
      + tags                         = [
          + "ManagedBy:Terraform",
          + "Purpose:MLOps-Deployment",
          + "Scope:AllEnvironments",
        ]
      + type                         = (known after apply)

      + feature_tags (known after apply)

      + features (known after apply)
    }

  # azurerm_bastion_host.prod will be created
  + resource "azurerm_bastion_host" "prod" {
      + copy_paste_enabled        = true
      + dns_name                  = (known after apply)
      + file_copy_enabled         = false
      + id                        = (known after apply)
      + ip_connect_enabled        = false
      + kerberos_enabled          = false
      + location                  = "canadacentral"
      + name                      = "bas-aml-prod-cc03"
      + resource_group_name       = "rg-aml-vnet-prod-cc-03"
      + scale_units               = 2
      + session_recording_enabled = false
      + shareable_link_enabled    = false
      + sku                       = "Standard"
      + tags                      = {
          + "component"   = "bastion"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + tunneling_enabled         = false

      + ip_configuration {
          + name                 = "configuration"
          + public_ip_address_id = (known after apply)
          + subnet_id            = (known after apply)
        }
    }

  # azurerm_log_analytics_workspace.dev_logs will be created
  + resource "azurerm_log_analytics_workspace" "dev_logs" {
      + allow_resource_only_permissions = true
      + daily_quota_gb                  = -1
      + id                              = (known after apply)
      + internet_ingestion_enabled      = true
      + internet_query_enabled          = true
      + local_authentication_disabled   = false
      + location                        = "canadacentral"
      + name                            = "log-aml-dev-cc03"
      + primary_shared_key              = (sensitive value)
      + resource_group_name             = "rg-aml-ws-dev-cc-03"
      + retention_in_days               = 30
      + secondary_shared_key            = (sensitive value)
      + sku                             = "PerGB2018"
      + tags                            = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "logs"
        }
      + workspace_id                    = (known after apply)
    }

  # azurerm_log_analytics_workspace.prod_logs will be created
  + resource "azurerm_log_analytics_workspace" "prod_logs" {
      + allow_resource_only_permissions = true
      + daily_quota_gb                  = -1
      + id                              = (known after apply)
      + internet_ingestion_enabled      = true
      + internet_query_enabled          = true
      + local_authentication_disabled   = false
      + location                        = "canadacentral"
      + name                            = "log-aml-prod-cc03"
      + primary_shared_key              = (sensitive value)
      + resource_group_name             = "rg-aml-ws-prod-cc-03"
      + retention_in_days               = 30
      + secondary_shared_key            = (sensitive value)
      + sku                             = "PerGB2018"
      + tags                            = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "logs"
        }
      + workspace_id                    = (known after apply)
    }

  # azurerm_network_interface.prod_vm_nic will be created
  + resource "azurerm_network_interface" "prod_vm_nic" {
      + accelerated_networking_enabled = false
      + applied_dns_servers            = (known after apply)
      + id                             = (known after apply)
      + internal_domain_name_suffix    = (known after apply)
      + ip_forwarding_enabled          = false
      + location                       = "canadacentral"
      + mac_address                    = (known after apply)
      + name                           = "nic-aml-vm-prod-cc03"
      + private_ip_address             = (known after apply)
      + private_ip_addresses           = (known after apply)
      + resource_group_name            = "rg-aml-vnet-prod-cc-03"
      + tags                           = {
          + "component"   = "vm"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + virtual_machine_id             = (known after apply)

      + ip_configuration {
          + gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          + name                                               = "ipconfig1"
          + primary                                            = (known after apply)
          + private_ip_address                                 = (known after apply)
          + private_ip_address_allocation                      = "Dynamic"
          + private_ip_address_version                         = "IPv4"
          + subnet_id                                          = (known after apply)
        }
    }

  # azurerm_network_security_group.prod_vm_nsg will be created
  + resource "azurerm_network_security_group" "prod_vm_nsg" {
      + id                  = (known after apply)
      + location            = "canadacentral"
      + name                = "nsg-aml-vm-prod-cc03"
      + resource_group_name = "rg-aml-vnet-prod-cc-03"
      + security_rule       = [
          + {
              + access                                     = "Allow"
              + destination_address_prefix                 = "*"
              + destination_address_prefixes               = []
              + destination_application_security_group_ids = []
              + destination_port_range                     = "3389"
              + destination_port_ranges                    = []
              + direction                                  = "Inbound"
              + name                                       = "allow-bastion-rdp"
              + priority                                   = 200
              + protocol                                   = "Tcp"
              + source_address_prefix                      = "10.2.2.0/26"
              + source_address_prefixes                    = []
              + source_application_security_group_ids      = []
              + source_port_range                          = "*"
              + source_port_ranges                         = []
                # (1 unchanged attribute hidden)
            },
          + {
              + access                                     = "Allow"
              + destination_address_prefix                 = "Internet"
              + destination_address_prefixes               = []
              + destination_application_security_group_ids = []
              + destination_port_range                     = "*"
              + destination_port_ranges                    = []
              + direction                                  = "Outbound"
              + name                                       = "allow-outbound-internet"
              + priority                                   = 100
              + protocol                                   = "*"
              + source_address_prefix                      = "*"
              + source_address_prefixes                    = []
              + source_application_security_group_ids      = []
              + source_port_range                          = "*"
              + source_port_ranges                         = []
                # (1 unchanged attribute hidden)
            },
          + {
              + access                                     = "Deny"
              + destination_address_prefix                 = "*"
              + destination_address_prefixes               = []
              + destination_application_security_group_ids = []
              + destination_port_range                     = "*"
              + destination_port_ranges                    = []
              + direction                                  = "Inbound"
              + name                                       = "deny-inbound-all"
              + priority                                   = 4096
              + protocol                                   = "*"
              + source_address_prefix                      = "*"
              + source_address_prefixes                    = []
              + source_application_security_group_ids      = []
              + source_port_range                          = "*"
              + source_port_ranges                         = []
                # (1 unchanged attribute hidden)
            },
        ]
      + tags                = {
          + "component"   = "vm"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_private_dns_a_record.shared_aml_instances_wildcard will be created
  + resource "azurerm_private_dns_a_record" "shared_aml_instances_wildcard" {
      + fqdn                = (known after apply)
      + id                  = (known after apply)
      + name                = "*.canadacentral"
      + records             = (known after apply)
      + resource_group_name = "rg-aml-dns-shared-cc-03"
      + ttl                 = 10
      + zone_name           = "instances.azureml.ms"
    }

  # azurerm_private_dns_zone.shared_acr will be created
  + resource "azurerm_private_dns_zone" "shared_acr" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.azurecr.io"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "acr"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_aml_api will be created
  + resource "azurerm_private_dns_zone" "shared_aml_api" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.api.azureml.ms"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "aml-api"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_aml_instances will be created
  + resource "azurerm_private_dns_zone" "shared_aml_instances" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "instances.azureml.ms"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "aml-instances"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_aml_notebooks will be created
  + resource "azurerm_private_dns_zone" "shared_aml_notebooks" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.notebooks.azure.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "aml-notebooks"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_blob will be created
  + resource "azurerm_private_dns_zone" "shared_blob" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.blob.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "blob"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_file will be created
  + resource "azurerm_private_dns_zone" "shared_file" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.file.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "file"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_queue will be created
  + resource "azurerm_private_dns_zone" "shared_queue" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.queue.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "queue"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_table will be created
  + resource "azurerm_private_dns_zone" "shared_table" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.table.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "table"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone.shared_vault will be created
  + resource "azurerm_private_dns_zone" "shared_vault" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.vaultcore.azure.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = "rg-aml-dns-shared-cc-03"
      + tags                                                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "vaultcore"
        }

      + soa_record (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_acr will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_acr" {
      + id                    = (known after apply)
      + name                  = "dev-shared-acr"
      + private_dns_zone_name = "privatelink.azurecr.io"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-acr-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_api will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_api" {
      + id                    = (known after apply)
      + name                  = "dev-shared-aml-api"
      + private_dns_zone_name = "privatelink.api.azureml.ms"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-aml-api-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_blob will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_blob" {
      + id                    = (known after apply)
      + name                  = "dev-shared-blob"
      + private_dns_zone_name = "privatelink.blob.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-blob-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_file will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_file" {
      + id                    = (known after apply)
      + name                  = "dev-shared-file"
      + private_dns_zone_name = "privatelink.file.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-file-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_instances will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_instances" {
      + id                    = (known after apply)
      + name                  = "dev-shared-aml-instances"
      + private_dns_zone_name = "instances.azureml.ms"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-aml-instances-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_notebooks will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_notebooks" {
      + id                    = (known after apply)
      + name                  = "dev-shared-aml-notebooks"
      + private_dns_zone_name = "privatelink.notebooks.azure.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-aml-notebooks-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_queue will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_queue" {
      + id                    = (known after apply)
      + name                  = "dev-shared-queue"
      + private_dns_zone_name = "privatelink.queue.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-queue-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_table will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_table" {
      + id                    = (known after apply)
      + name                  = "dev-shared-table"
      + private_dns_zone_name = "privatelink.table.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-table-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_dev_vault will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_dev_vault" {
      + id                    = (known after apply)
      + name                  = "dev-shared-vault"
      + private_dns_zone_name = "privatelink.vaultcore.azure.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "dev-vault-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_acr will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_acr" {
      + id                    = (known after apply)
      + name                  = "prod-shared-acr"
      + private_dns_zone_name = "privatelink.azurecr.io"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-acr-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_api will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_api" {
      + id                    = (known after apply)
      + name                  = "prod-shared-aml-api"
      + private_dns_zone_name = "privatelink.api.azureml.ms"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-aml-api-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_blob will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_blob" {
      + id                    = (known after apply)
      + name                  = "prod-shared-blob"
      + private_dns_zone_name = "privatelink.blob.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-blob-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_file will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_file" {
      + id                    = (known after apply)
      + name                  = "prod-shared-file"
      + private_dns_zone_name = "privatelink.file.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-file-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_instances will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_instances" {
      + id                    = (known after apply)
      + name                  = "prod-shared-aml-instances"
      + private_dns_zone_name = "instances.azureml.ms"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-aml-instances-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_notebooks will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_notebooks" {
      + id                    = (known after apply)
      + name                  = "prod-shared-aml-notebooks"
      + private_dns_zone_name = "privatelink.notebooks.azure.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-aml-notebooks-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_queue will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_queue" {
      + id                    = (known after apply)
      + name                  = "prod-shared-queue"
      + private_dns_zone_name = "privatelink.queue.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-queue-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_table will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_table" {
      + id                    = (known after apply)
      + name                  = "prod-shared-table"
      + private_dns_zone_name = "privatelink.table.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-table-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_private_dns_zone_virtual_network_link.shared_prod_vault will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "shared_prod_vault" {
      + id                    = (known after apply)
      + name                  = "prod-shared-vault"
      + private_dns_zone_name = "privatelink.vaultcore.azure.net"
      + registration_enabled  = false
      + resource_group_name   = "rg-aml-dns-shared-cc-03"
      + tags                  = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "scope"       = "prod-vault-shared"
        }
      + virtual_network_id    = (known after apply)
    }

  # azurerm_public_ip.bastion_pip will be created
  + resource "azurerm_public_ip" "bastion_pip" {
      + allocation_method       = "Static"
      + ddos_protection_mode    = "VirtualNetworkInherited"
      + fqdn                    = (known after apply)
      + id                      = (known after apply)
      + idle_timeout_in_minutes = 4
      + ip_address              = (known after apply)
      + ip_version              = "IPv4"
      + location                = "canadacentral"
      + name                    = "pip-aml-bastion-prod-cc03"
      + resource_group_name     = "rg-aml-vnet-prod-cc-03"
      + sku                     = "Standard"
      + sku_tier                = "Regional"
      + tags                    = {
          + "component"   = "bastion"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_resource_group.dev_registry_rg will be created
  + resource "azurerm_resource_group" "dev_registry_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-reg-dev-cc-03"
      + tags     = {
          + "component"   = "registry"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
    }

  # azurerm_resource_group.dev_vnet_rg will be created
  + resource "azurerm_resource_group" "dev_vnet_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-vnet-dev-cc-03"
      + tags     = {
          + "component"   = "vnet"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
    }

  # azurerm_resource_group.dev_workspace_rg will be created
  + resource "azurerm_resource_group" "dev_workspace_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-ws-dev-cc-03"
      + tags     = {
          + "component"   = "workspace"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
    }

  # azurerm_resource_group.prod_registry_rg will be created
  + resource "azurerm_resource_group" "prod_registry_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-reg-prod-cc-03"
      + tags     = {
          + "component"   = "registry"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_resource_group.prod_vnet_rg will be created
  + resource "azurerm_resource_group" "prod_vnet_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-vnet-prod-cc-03"
      + tags     = {
          + "component"   = "vnet"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_resource_group.prod_workspace_rg will be created
  + resource "azurerm_resource_group" "prod_workspace_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-ws-prod-cc-03"
      + tags     = {
          + "component"   = "workspace"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_resource_group.shared_dns_rg will be created
  + resource "azurerm_resource_group" "shared_dns_rg" {
      + id       = (known after apply)
      + location = "canadacentral"
      + name     = "rg-aml-dns-shared-cc-03"
      + tags     = {
          + "component"   = "shared-dns"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "shared"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dns"
        }
    }

  # azurerm_role_assignment.dev_compute_to_dev_registry will be created
  + resource "azurerm_role_assignment" "dev_compute_to_dev_registry" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Registry User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.dev_workspace_network_connection_approver will be created
  + resource "azurerm_role_assignment" "dev_workspace_network_connection_approver" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Enterprise Network Connection Approver"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.prod_compute_to_dev_registry will be created
  + resource "azurerm_role_assignment" "prod_compute_to_dev_registry" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Registry User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.prod_compute_to_prod_registry will be created
  + resource "azurerm_role_assignment" "prod_compute_to_prod_registry" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Registry User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.prod_workspace_network_connection_approver will be created
  + resource "azurerm_role_assignment" "prod_workspace_network_connection_approver" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Enterprise Network Connection Approver"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.prod_workspace_to_prod_registry_network_approver will be created
  + resource "azurerm_role_assignment" "prod_workspace_to_prod_registry_network_approver" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Enterprise Network Connection Approver"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_registry_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_registry_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_registry_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_registry_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_registry_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_dev_registry_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_vnet_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_vnet_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_vnet_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_vnet_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_vnet_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_dev_vnet_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_workspace_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_workspace_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_workspace_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_dev_workspace_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_dev_workspace_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_dev_workspace_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_registry_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_registry_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_registry_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_registry_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_registry_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_prod_registry_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_vnet_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_vnet_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_vnet_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_vnet_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_vnet_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_prod_vnet_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_workspace_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_workspace_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_workspace_network_contributor will be created
  + resource "azurerm_role_assignment" "sp_prod_workspace_network_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.sp_prod_workspace_user_access_admin will be created
  + resource "azurerm_role_assignment" "sp_prod_workspace_user_access_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_kv_admin[0] will be created
  + resource "azurerm_role_assignment" "user_dev_kv_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_registry_user[0] will be created
  + resource "azurerm_role_assignment" "user_dev_registry_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Registry User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_rg_reader[0] will be created
  + resource "azurerm_role_assignment" "user_dev_rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_storage_blob_contributor[0] will be created
  + resource "azurerm_role_assignment" "user_dev_storage_blob_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_storage_file_privileged_contributor[0] will be created
  + resource "azurerm_role_assignment" "user_dev_storage_file_privileged_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage File Data Privileged Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_workspace_ai_developer[0] will be created
  + resource "azurerm_role_assignment" "user_dev_workspace_ai_developer" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Developer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_workspace_compute_operator[0] will be created
  + resource "azurerm_role_assignment" "user_dev_workspace_compute_operator" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Compute Operator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_dev_workspace_data_scientist[0] will be created
  + resource "azurerm_role_assignment" "user_dev_workspace_data_scientist" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Data Scientist"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_kv_admin[0] will be created
  + resource "azurerm_role_assignment" "user_prod_kv_admin" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_registry_user[0] will be created
  + resource "azurerm_role_assignment" "user_prod_registry_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Registry User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_rg_reader[0] will be created
  + resource "azurerm_role_assignment" "user_prod_rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_storage_blob_contributor[0] will be created
  + resource "azurerm_role_assignment" "user_prod_storage_blob_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_storage_file_privileged_contributor[0] will be created
  + resource "azurerm_role_assignment" "user_prod_storage_file_privileged_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage File Data Privileged Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_workspace_ai_developer[0] will be created
  + resource "azurerm_role_assignment" "user_prod_workspace_ai_developer" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Developer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_workspace_compute_operator[0] will be created
  + resource "azurerm_role_assignment" "user_prod_workspace_compute_operator" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Compute Operator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.user_prod_workspace_data_scientist[0] will be created
  + resource "azurerm_role_assignment" "user_prod_workspace_data_scientist" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "151ea030-5798-42a0-a35d-5e7596c1bd6e"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Data Scientist"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_subnet.dev_pe will be created
  + resource "azurerm_subnet" "dev_pe" {
      + address_prefixes                              = [
          + "10.1.1.0/24",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = "snet-aml-pe-dev-cc03"
      + private_endpoint_network_policies             = "Disabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = "rg-aml-vnet-dev-cc-03"
      + virtual_network_name                          = "vnet-aml-dev-cc-03"
    }

  # azurerm_subnet.prod_bastion will be created
  + resource "azurerm_subnet" "prod_bastion" {
      + address_prefixes                              = [
          + "10.2.2.0/26",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = "AzureBastionSubnet"
      + private_endpoint_network_policies             = "Disabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = "rg-aml-vnet-prod-cc-03"
      + virtual_network_name                          = "vnet-aml-prod-cc-03"
    }

  # azurerm_subnet.prod_pe will be created
  + resource "azurerm_subnet" "prod_pe" {
      + address_prefixes                              = [
          + "10.2.1.0/24",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = "snet-aml-pe-prod-cc03"
      + private_endpoint_network_policies             = "Disabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = "rg-aml-vnet-prod-cc-03"
      + virtual_network_name                          = "vnet-aml-prod-cc-03"
    }

  # azurerm_subnet.prod_vm will be created
  + resource "azurerm_subnet" "prod_vm" {
      + address_prefixes                              = [
          + "10.2.3.0/24",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = "snet-aml-vm-prod-cc03"
      + private_endpoint_network_policies             = "Disabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = "rg-aml-vnet-prod-cc-03"
      + virtual_network_name                          = "vnet-aml-prod-cc-03"
    }

  # azurerm_subnet_network_security_group_association.prod_vm_nsg_assoc will be created
  + resource "azurerm_subnet_network_security_group_association" "prod_vm_nsg_assoc" {
      + id                        = (known after apply)
      + network_security_group_id = (known after apply)
      + subnet_id                 = (known after apply)
    }

  # azurerm_user_assigned_identity.dev_cc will be created
  + resource "azurerm_user_assigned_identity" "dev_cc" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "canadacentral"
      + name                = "dev-mi-compute"
      + principal_id        = (known after apply)
      + resource_group_name = "rg-aml-vnet-dev-cc-03"
      + tags                = {
          + "component"   = "compute-mi"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + tenant_id           = (known after apply)
    }

  # azurerm_user_assigned_identity.prod_cc will be created
  + resource "azurerm_user_assigned_identity" "prod_cc" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "canadacentral"
      + name                = "prod-mi-compute"
      + principal_id        = (known after apply)
      + resource_group_name = "rg-aml-vnet-prod-cc-03"
      + tags                = {
          + "component"   = "compute-mi"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + tenant_id           = (known after apply)
    }

  # azurerm_virtual_network.dev_vnet will be created
  + resource "azurerm_virtual_network" "dev_vnet" {
      + address_space                  = [
          + "10.1.0.0/16",
        ]
      + dns_servers                    = [
          + "168.63.129.16",
        ]
      + guid                           = (known after apply)
      + id                             = (known after apply)
      + location                       = "canadacentral"
      + name                           = "vnet-aml-dev-cc-03"
      + private_endpoint_vnet_policies = "Disabled"
      + resource_group_name            = "rg-aml-vnet-dev-cc-03"
      + subnet                         = (known after apply)
      + tags                           = {
          + "component"   = "vnet"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
    }

  # azurerm_virtual_network.prod_vnet will be created
  + resource "azurerm_virtual_network" "prod_vnet" {
      + address_space                  = [
          + "10.2.0.0/16",
        ]
      + dns_servers                    = [
          + "168.63.129.16",
        ]
      + guid                           = (known after apply)
      + id                             = (known after apply)
      + location                       = "canadacentral"
      + name                           = "vnet-aml-prod-cc-03"
      + private_endpoint_vnet_policies = "Disabled"
      + resource_group_name            = "rg-aml-vnet-prod-cc-03"
      + subnet                         = (known after apply)
      + tags                           = {
          + "component"   = "vnet"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
    }

  # azurerm_virtual_network_peering.dev_to_prod will be created
  + resource "azurerm_virtual_network_peering" "dev_to_prod" {
      + allow_forwarded_traffic                = false
      + allow_gateway_transit                  = false
      + allow_virtual_network_access           = true
      + id                                     = (known after apply)
      + name                                   = "dev-to-prod"
      + peer_complete_virtual_networks_enabled = true
      + remote_virtual_network_id              = (known after apply)
      + resource_group_name                    = "rg-aml-vnet-dev-cc-03"
      + use_remote_gateways                    = false
      + virtual_network_name                   = "vnet-aml-dev-cc-03"
    }

  # azurerm_virtual_network_peering.prod_to_dev will be created
  + resource "azurerm_virtual_network_peering" "prod_to_dev" {
      + allow_forwarded_traffic                = false
      + allow_gateway_transit                  = false
      + allow_virtual_network_access           = true
      + id                                     = (known after apply)
      + name                                   = "prod-to-dev"
      + peer_complete_virtual_networks_enabled = true
      + remote_virtual_network_id              = (known after apply)
      + resource_group_name                    = "rg-aml-vnet-prod-cc-03"
      + use_remote_gateways                    = false
      + virtual_network_name                   = "vnet-aml-prod-cc-03"
    }

  # azurerm_windows_virtual_machine.jumpbox will be created
  + resource "azurerm_windows_virtual_machine" "jumpbox" {
      + admin_password                                         = (sensitive value)
      + admin_username                                         = "mlopsuser"
      + allow_extension_operations                             = true
      + bypass_platform_safety_checks_on_user_schedule_enabled = false
      + computer_name                                          = "jumpbox"
      + disk_controller_type                                   = (known after apply)
      + enable_automatic_updates                               = true
      + extensions_time_budget                                 = "PT1H30M"
      + hotpatching_enabled                                    = false
      + id                                                     = (known after apply)
      + location                                               = "canadacentral"
      + max_bid_price                                          = -1
      + name                                                   = "vm-aml-jumpbox-prod-cc03"
      + network_interface_ids                                  = (known after apply)
      + patch_assessment_mode                                  = "ImageDefault"
      + patch_mode                                             = "AutomaticByOS"
      + platform_fault_domain                                  = -1
      + priority                                               = "Regular"
      + private_ip_address                                     = (known after apply)
      + private_ip_addresses                                   = (known after apply)
      + provision_vm_agent                                     = true
      + public_ip_address                                      = (known after apply)
      + public_ip_addresses                                    = (known after apply)
      + resource_group_name                                    = "rg-aml-vnet-prod-cc-03"
      + size                                                   = "Standard_DS4_v2"
      + tags                                                   = {
          + "component"   = "vm"
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + virtual_machine_id                                     = (known after apply)
      + vm_agent_platform_updates_enabled                      = (known after apply)

      + boot_diagnostics {}

      + os_disk {
          + caching                   = "ReadWrite"
          + disk_size_gb              = (known after apply)
          + id                        = (known after apply)
          + name                      = (known after apply)
          + storage_account_type      = "Premium_LRS"
          + write_accelerator_enabled = false
        }

      + source_image_reference {
          + offer     = "dsvm-win-2022"
          + publisher = "microsoft-dsvm"
          + sku       = "winserver-2022"
          + version   = "latest"
        }

      + termination_notification (known after apply)
    }

  # null_resource.deployment_complete will be created
  + resource "null_resource" "deployment_complete" {
      + id = (known after apply)
    }

  # module.dev_managed_umi.data.azurerm_client_config.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "current" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.dev_managed_umi.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.dev_managed_umi.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.dev_managed_umi.azapi_resource.aml_workspace will be created
  + resource "azapi_resource" "aml_workspace" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + kind       = "Default"
          + properties = {
              + allowRoleAssignmentOnRG     = true
              + applicationInsights         = (known after apply)
              + containerRegistry           = (known after apply)
              + description                 = "Azure Machine Learning Workspace for testing"
              + keyVault                    = (known after apply)
              + managedNetwork              = {
                  + firewallSku   = "Standard"
                  + isolationMode = "AllowOnlyApprovedOutbound"
                  + outboundRules = {
                      + AllowAnacondaCom                = {
                          + category    = "UserDefined"
                          + destination = "anaconda.com"
                          + type        = "FQDN"
                        }
                      + AllowAnacondaComWildcard        = {
                          + category    = "UserDefined"
                          + destination = "*.anaconda.com"
                          + type        = "FQDN"
                        }
                      + AllowAnacondaOrgWildcard        = {
                          + category    = "UserDefined"
                          + destination = "*.anaconda.org"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLApiWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.azureml.net"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLStudioWildcard      = {
                          + category    = "UserDefined"
                          + destination = "*.azureml.ms"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLWildcard            = {
                          + category    = "UserDefined"
                          + destination = "*.ml.azure.com"
                          + type        = "FQDN"
                        }
                      + AllowAzureResourceManager       = {
                          + category    = "UserDefined"
                          + destination = "management.azure.com"
                          + type        = "FQDN"
                        }
                      + AllowCdnAuth0Com                = {
                          + category    = "UserDefined"
                          + destination = "cdn.auth0.com"
                          + type        = "FQDN"
                        }
                      + AllowCdnHuggingFaceCo           = {
                          + category    = "UserDefined"
                          + destination = "cdn-lfs.huggingface.co"
                          + type        = "FQDN"
                        }
                      + AllowCodeVisualStudio           = {
                          + category    = "UserDefined"
                          + destination = "code.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowDefaultExpTas              = {
                          + category    = "UserDefined"
                          + destination = "default.exp-tas.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerCloudFlareProduction = {
                          + category    = "UserDefined"
                          + destination = "production.cloudflare.docker.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerComWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.docker.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerIo                   = {
                          + category    = "UserDefined"
                          + destination = "docker.io"
                          + type        = "FQDN"
                        }
                      + AllowDockerIoWildcard           = {
                          + category    = "UserDefined"
                          + destination = "*.docker.io"
                          + type        = "FQDN"
                        }
                      + AllowGalleryCdnWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.gallerycdn.vsassets.io"
                          + type        = "FQDN"
                        }
                      + AllowMarketplaceVisualStudio    = {
                          + category    = "UserDefined"
                          + destination = "marketplace.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowPypi                       = {
                          + category    = "UserDefined"
                          + destination = "pypi.org"
                          + type        = "FQDN"
                        }
                      + AllowPythonHostedWildcard       = {
                          + category    = "UserDefined"
                          + destination = "*.pythonhosted.org"
                          + type        = "FQDN"
                        }
                      + AllowRawGithub                  = {
                          + category    = "UserDefined"
                          + destination = "raw.githubusercontent.com"
                          + type        = "FQDN"
                        }
                      + AllowUpdateCodeVisualStudio     = {
                          + category    = "UserDefined"
                          + destination = "update.code.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeBlob                 = {
                          + category    = "UserDefined"
                          + destination = "vscode.blob.core.windows.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeCndWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.vscode-cdn.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeDevWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.vscode.dev"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeDownload             = {
                          + category    = "UserDefined"
                          + destination = "vscode.download.prss.microsoft.com"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeExperimentsWildcard  = {
                          + category    = "UserDefined"
                          + destination = "*.vscodeexperiments.azureedge.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeUnpkWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.vscode-unpkg.net"
                          + type        = "FQDN"
                        }
                      + AllowVsMsecndNet                = {
                          + category    = "UserDefined"
                          + destination = "*.vo.msecnd.net"
                          + type        = "FQDN"
                        }
                    }
                }
              + managedNetworkKind          = "V1"
              + primaryUserAssignedIdentity = (known after apply)
              + provisionNetworkNow         = true
              + publicNetworkAccess         = "disabled"
              + storageAccount              = (known after apply)
              + systemDatastoresAuthMode    = "identity"
            }
          + tags       = {
              + created_by  = "terraform"
              + deployment  = "flat-vnet-bastion"
              + environment = "development"
              + owner       = "ml-team"
              + project     = "ml-platform"
              + purpose     = "dev"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "mlwdevcc03"
      + output                    = (known after apply)
      + parent_id                 = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-dev-cc-03"
      + schema_validation_enabled = false
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/workspaces@2025-04-01-preview"
    }

  # module.dev_managed_umi.azapi_resource.compute_cluster_uami will be created
  + resource "azapi_resource" "compute_cluster_uami" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + properties = {
              + computeType = "AmlCompute"
              + description = "CPU compute cluster with user-assigned managed identity for ML training workloads"
              + properties  = {
                  + enableNodePublicIp          = false
                  + isolatedNetwork             = false
                  + osType                      = "Linux"
                  + remoteLoginPortPublicAccess = "Disabled"
                  + scaleSettings               = {
                      + maxNodeCount                = 4
                      + minNodeCount                = 2
                      + nodeIdleTimeBeforeScaleDown = "PT2M"
                    }
                  + vmSize                      = "Standard_F8s_v2"
                }
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "amlcc-dev-cc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + type                      = "Microsoft.MachineLearningServices/workspaces/computes@2024-10-01"
    }

  # module.dev_managed_umi.azapi_resource.compute_instance_uami will be created
  + resource "azapi_resource" "compute_instance_uami" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + properties = {
              + computeType = "ComputeInstance"
              + description = "Personal compute instance with user-assigned managed identity for interactive ML development"
              + properties  = {
                  + applicationSharingPolicy         = "Personal"
                  + computeInstanceAuthorizationType = "personal"
                  + enableNodePublicIp               = false
                  + personalComputeInstanceSettings  = {
                      + assignedUser = {
                          + objectId = (known after apply)
                          + tenantId = (known after apply)
                        }
                    }
                  + sshSettings                      = {
                      + sshPublicAccess = "Disabled"
                    }
                  + vmSize                           = "Standard_F8s_v2"
                }
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "amli-dev-cc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + type                      = "Microsoft.MachineLearningServices/workspaces/computes@2024-10-01"
    }

  # module.dev_managed_umi.azapi_update_resource.workspace_image_build_config will be created
  + resource "azapi_update_resource" "workspace_image_build_config" {
      + body                    = {
          + properties = {
              + imageBuildCompute = "amlcc-dev-cc03"
            }
        }
      + id                      = (known after apply)
      + ignore_casing           = false
      + ignore_missing_property = true
      + name                    = (known after apply)
      + output                  = (known after apply)
      + parent_id               = (known after apply)
      + resource_id             = (known after apply)
      + type                    = "Microsoft.MachineLearningServices/workspaces@2025-04-01-preview"
    }

  # module.dev_managed_umi.azurerm_application_insights.aml-appins will be created
  + resource "azurerm_application_insights" "aml-appins" {
      + app_id                              = (known after apply)
      + application_type                    = "other"
      + connection_string                   = (sensitive value)
      + daily_data_cap_in_gb                = 100
      + disable_ip_masking                  = false
      + force_customer_storage_for_profiler = false
      + id                                  = (known after apply)
      + instrumentation_key                 = (sensitive value)
      + internet_ingestion_enabled          = true
      + internet_query_enabled              = true
      + local_authentication_disabled       = false
      + location                            = "canadacentral"
      + name                                = "mlwindevcc03"
      + resource_group_name                 = "rg-aml-ws-dev-cc-03"
      + retention_in_days                   = 90
      + sampling_percentage                 = 100
      + workspace_id                        = (known after apply)
    }

  # module.dev_managed_umi.azurerm_monitor_diagnostic_setting.appinsights_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "appinsights_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlwindevcc03-diagnostics-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AppAvailabilityResults"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppBrowserTimings"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppDependencies"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppExceptions"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppMetrics"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppPageViews"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppPerformanceCounters"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppRequests"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppSystemEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppTraces"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.dev_managed_umi.azurerm_monitor_diagnostic_setting.ml_workspace_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "ml_workspace_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlwdevcc03-diagnostics-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AmlComputeClusterEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeClusterNodeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeCpuGpuUtilization"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeJobEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlRunStatusChangedEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ComputeInstanceEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataLabelChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataLabelReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataSetChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataSetReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataStoreChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataStoreReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentEventACI"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentEventAKS"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "EnvironmentChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "EnvironmentReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "InferencingOperationACI"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "InferencingOperationAKS"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsActionEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "PipelineChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "PipelineReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RunEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RunReadEvent"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.ai_administrator will be created
  + resource "azurerm_role_assignment" "ai_administrator" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Administrator"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-dev-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.ai_network_connection_approver will be created
  + resource "azurerm_role_assignment" "ai_network_connection_approver" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Enterprise Network Connection Approver"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-dev-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_acr_pull will be created
  + resource "azurerm_role_assignment" "compute_acr_pull" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPull"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_acr_push will be created
  + resource "azurerm_role_assignment" "compute_acr_push" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPush"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_keyvault_secrets_user will be created
  + resource "azurerm_role_assignment" "compute_keyvault_secrets_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_ml_data_scientist will be created
  + resource "azurerm_role_assignment" "compute_ml_data_scientist" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Data Scientist"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_rg_reader will be created
  + resource "azurerm_role_assignment" "compute_rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-dev-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_storage_blob_contributor will be created
  + resource "azurerm_role_assignment" "compute_storage_blob_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_storage_file_privileged_contributor will be created
  + resource "azurerm_role_assignment" "compute_storage_file_privileged_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage File Data Privileged Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.compute_workspace_contributor will be created
  + resource "azurerm_role_assignment" "compute_workspace_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.rg_reader will be created
  + resource "azurerm_role_assignment" "rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-dev-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.workspace_key_vault_reader will be created
  + resource "azurerm_role_assignment" "workspace_key_vault_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.workspace_key_vault_secrets_user will be created
  + resource "azurerm_role_assignment" "workspace_key_vault_secrets_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_role_assignment.workspace_storage_blob_owner will be created
  + resource "azurerm_role_assignment" "workspace_storage_blob_owner" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.dev_managed_umi.azurerm_user_assigned_identity.workspace_identity will be created
  + resource "azurerm_user_assigned_identity" "workspace_identity" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "canadacentral"
      + name                = "dev-mi-workspace"
      + principal_id        = (known after apply)
      + resource_group_name = "rg-aml-ws-dev-cc-03"
      + tags                = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.dev_managed_umi.time_sleep.wait_for_compute_resources will be created
  + resource "time_sleep" "wait_for_compute_resources" {
      + create_duration = "180s"
      + id              = (known after apply)
    }

  # module.dev_managed_umi.time_sleep.wait_rbac_role_propagation will be created
  + resource "time_sleep" "wait_rbac_role_propagation" {
      + create_duration = "90s"
      + id              = (known after apply)
    }

  # module.dev_managed_umi.time_sleep.wait_workspace_slot will be created
  + resource "time_sleep" "wait_workspace_slot" {
      + create_duration = "150s"
      + id              = (known after apply)
    }

  # module.dev_registry.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.dev_registry.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.dev_registry.azapi_resource.registry will be created
  + resource "azapi_resource" "registry" {
      + body                      = {
          + identity   = {
              + type = "SystemAssigned"
            }
          + properties = {
              + managedResourceGroupSettings = {
                  + assignedIdentities = [
                      + {
                          + principalId = (known after apply)
                        },
                    ]
                }
              + publicNetworkAccess          = "Disabled"
              + regionDetails                = [
                  + {
                      + acrDetails            = [
                          + {
                              + systemCreatedAcrAccount = {
                                  + acrAccountSku = "Premium"
                                }
                            },
                        ]
                      + location              = "canadacentral"
                      + storageAccountDetails = [
                          + {
                              + systemCreatedStorageAccount = {
                                  + storageAccountHnsEnabled = false
                                  + storageAccountType       = "Standard_LRS"
                                }
                            },
                        ]
                    },
                ]
            }
          + tags       = {
              + created_by  = "terraform"
              + deployment  = "flat-vnet-bastion"
              + environment = "development"
              + owner       = "ml-team"
              + project     = "ml-platform"
              + purpose     = "dev"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "mlrdevcc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + response_export_values    = [
          + "identity.principalId",
        ]
      + schema_validation_enabled = false
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/registries@2025-01-01-preview"
    }

  # module.dev_registry.azurerm_monitor_diagnostic_setting.registry_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "registry_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlrdevcc03-diagnostics"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "RegistryAssetReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RegistryAssetWriteEvent"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.dev_registry.null_resource.registry_managed_resources_diagnostics will be created
  + resource "null_resource" "registry_managed_resources_diagnostics" {
      + id       = (known after apply)
      + triggers = {
          + "registry_id"  = (known after apply)
          + "workspace_id" = (known after apply)
        }
    }

  # module.dev_registry.time_sleep.wait_registry_identity will be created
  + resource "time_sleep" "wait_registry_identity" {
      + create_duration = "10s"
      + id              = (known after apply)
    }

  # module.prod_managed_umi.data.azurerm_client_config.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "current" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.prod_managed_umi.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.prod_managed_umi.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.prod_managed_umi.azapi_resource.aml_workspace will be created
  + resource "azapi_resource" "aml_workspace" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + kind       = "Default"
          + properties = {
              + allowRoleAssignmentOnRG     = true
              + applicationInsights         = (known after apply)
              + containerRegistry           = (known after apply)
              + description                 = "Azure Machine Learning Workspace for testing"
              + keyVault                    = (known after apply)
              + managedNetwork              = {
                  + firewallSku   = "Standard"
                  + isolationMode = "AllowOnlyApprovedOutbound"
                  + outboundRules = {
                      + AllowAnacondaCom                = {
                          + category    = "UserDefined"
                          + destination = "anaconda.com"
                          + type        = "FQDN"
                        }
                      + AllowAnacondaComWildcard        = {
                          + category    = "UserDefined"
                          + destination = "*.anaconda.com"
                          + type        = "FQDN"
                        }
                      + AllowAnacondaOrgWildcard        = {
                          + category    = "UserDefined"
                          + destination = "*.anaconda.org"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLApiWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.azureml.net"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLStudioWildcard      = {
                          + category    = "UserDefined"
                          + destination = "*.azureml.ms"
                          + type        = "FQDN"
                        }
                      + AllowAzureMLWildcard            = {
                          + category    = "UserDefined"
                          + destination = "*.ml.azure.com"
                          + type        = "FQDN"
                        }
                      + AllowAzureResourceManager       = {
                          + category    = "UserDefined"
                          + destination = "management.azure.com"
                          + type        = "FQDN"
                        }
                      + AllowCdnAuth0Com                = {
                          + category    = "UserDefined"
                          + destination = "cdn.auth0.com"
                          + type        = "FQDN"
                        }
                      + AllowCdnHuggingFaceCo           = {
                          + category    = "UserDefined"
                          + destination = "cdn-lfs.huggingface.co"
                          + type        = "FQDN"
                        }
                      + AllowCodeVisualStudio           = {
                          + category    = "UserDefined"
                          + destination = "code.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowDefaultExpTas              = {
                          + category    = "UserDefined"
                          + destination = "default.exp-tas.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerCloudFlareProduction = {
                          + category    = "UserDefined"
                          + destination = "production.cloudflare.docker.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerComWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.docker.com"
                          + type        = "FQDN"
                        }
                      + AllowDockerIo                   = {
                          + category    = "UserDefined"
                          + destination = "docker.io"
                          + type        = "FQDN"
                        }
                      + AllowDockerIoWildcard           = {
                          + category    = "UserDefined"
                          + destination = "*.docker.io"
                          + type        = "FQDN"
                        }
                      + AllowGalleryCdnWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.gallerycdn.vsassets.io"
                          + type        = "FQDN"
                        }
                      + AllowMarketplaceVisualStudio    = {
                          + category    = "UserDefined"
                          + destination = "marketplace.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowPypi                       = {
                          + category    = "UserDefined"
                          + destination = "pypi.org"
                          + type        = "FQDN"
                        }
                      + AllowPythonHostedWildcard       = {
                          + category    = "UserDefined"
                          + destination = "*.pythonhosted.org"
                          + type        = "FQDN"
                        }
                      + AllowRawGithub                  = {
                          + category    = "UserDefined"
                          + destination = "raw.githubusercontent.com"
                          + type        = "FQDN"
                        }
                      + AllowUpdateCodeVisualStudio     = {
                          + category    = "UserDefined"
                          + destination = "update.code.visualstudio.com"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeBlob                 = {
                          + category    = "UserDefined"
                          + destination = "vscode.blob.core.windows.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeCndWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.vscode-cdn.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeDevWildcard          = {
                          + category    = "UserDefined"
                          + destination = "*.vscode.dev"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeDownload             = {
                          + category    = "UserDefined"
                          + destination = "vscode.download.prss.microsoft.com"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeExperimentsWildcard  = {
                          + category    = "UserDefined"
                          + destination = "*.vscodeexperiments.azureedge.net"
                          + type        = "FQDN"
                        }
                      + AllowVsCodeUnpkWildcard         = {
                          + category    = "UserDefined"
                          + destination = "*.vscode-unpkg.net"
                          + type        = "FQDN"
                        }
                      + AllowVsMsecndNet                = {
                          + category    = "UserDefined"
                          + destination = "*.vo.msecnd.net"
                          + type        = "FQDN"
                        }
                    }
                }
              + managedNetworkKind          = "V1"
              + primaryUserAssignedIdentity = (known after apply)
              + provisionNetworkNow         = true
              + publicNetworkAccess         = "disabled"
              + storageAccount              = (known after apply)
              + systemDatastoresAuthMode    = "identity"
            }
          + tags       = {
              + created_by  = "terraform"
              + deployment  = "flat-vnet-bastion"
              + environment = "production"
              + owner       = "ml-team"
              + project     = "ml-platform"
              + purpose     = "prod"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "mlwprodcc03"
      + output                    = (known after apply)
      + parent_id                 = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-prod-cc-03"
      + schema_validation_enabled = false
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/workspaces@2025-04-01-preview"
    }

  # module.prod_managed_umi.azapi_resource.compute_cluster_uami will be created
  + resource "azapi_resource" "compute_cluster_uami" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + properties = {
              + computeType = "AmlCompute"
              + description = "CPU compute cluster with user-assigned managed identity for ML training workloads"
              + properties  = {
                  + enableNodePublicIp          = false
                  + isolatedNetwork             = false
                  + osType                      = "Linux"
                  + remoteLoginPortPublicAccess = "Disabled"
                  + scaleSettings               = {
                      + maxNodeCount                = 4
                      + minNodeCount                = 2
                      + nodeIdleTimeBeforeScaleDown = "PT2M"
                    }
                  + vmSize                      = "Standard_F8s_v2"
                }
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "amlcc-prod-cc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + type                      = "Microsoft.MachineLearningServices/workspaces/computes@2024-10-01"
    }

  # module.prod_managed_umi.azapi_resource.compute_instance_uami will be created
  + resource "azapi_resource" "compute_instance_uami" {
      + body                      = {
          + identity   = {
              + type                   = "UserAssigned"
              + userAssignedIdentities = (known after apply)
            }
          + properties = {
              + computeType = "ComputeInstance"
              + description = "Personal compute instance with user-assigned managed identity for interactive ML development"
              + properties  = {
                  + applicationSharingPolicy         = "Personal"
                  + computeInstanceAuthorizationType = "personal"
                  + enableNodePublicIp               = false
                  + personalComputeInstanceSettings  = {
                      + assignedUser = {
                          + objectId = (known after apply)
                          + tenantId = (known after apply)
                        }
                    }
                  + sshSettings                      = {
                      + sshPublicAccess = "Disabled"
                    }
                  + vmSize                           = "Standard_F8s_v2"
                }
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "amli-prod-cc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = true
      + tags                      = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + type                      = "Microsoft.MachineLearningServices/workspaces/computes@2024-10-01"
    }

  # module.prod_managed_umi.azapi_update_resource.workspace_image_build_config will be created
  + resource "azapi_update_resource" "workspace_image_build_config" {
      + body                    = {
          + properties = {
              + imageBuildCompute = "amlcc-prod-cc03"
            }
        }
      + id                      = (known after apply)
      + ignore_casing           = false
      + ignore_missing_property = true
      + name                    = (known after apply)
      + output                  = (known after apply)
      + parent_id               = (known after apply)
      + resource_id             = (known after apply)
      + type                    = "Microsoft.MachineLearningServices/workspaces@2025-04-01-preview"
    }

  # module.prod_managed_umi.azurerm_application_insights.aml-appins will be created
  + resource "azurerm_application_insights" "aml-appins" {
      + app_id                              = (known after apply)
      + application_type                    = "other"
      + connection_string                   = (sensitive value)
      + daily_data_cap_in_gb                = 100
      + disable_ip_masking                  = false
      + force_customer_storage_for_profiler = false
      + id                                  = (known after apply)
      + instrumentation_key                 = (sensitive value)
      + internet_ingestion_enabled          = true
      + internet_query_enabled              = true
      + local_authentication_disabled       = false
      + location                            = "canadacentral"
      + name                                = "mlwinprodcc03"
      + resource_group_name                 = "rg-aml-ws-prod-cc-03"
      + retention_in_days                   = 90
      + sampling_percentage                 = 100
      + workspace_id                        = (known after apply)
    }

  # module.prod_managed_umi.azurerm_monitor_diagnostic_setting.appinsights_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "appinsights_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlwinprodcc03-diagnostics-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AppAvailabilityResults"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppBrowserTimings"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppDependencies"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppExceptions"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppMetrics"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppPageViews"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppPerformanceCounters"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppRequests"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppSystemEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AppTraces"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.prod_managed_umi.azurerm_monitor_diagnostic_setting.ml_workspace_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "ml_workspace_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlwprodcc03-diagnostics-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AmlComputeClusterEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeClusterNodeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeCpuGpuUtilization"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlComputeJobEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AmlRunStatusChangedEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ComputeInstanceEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataLabelChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataLabelReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataSetChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataSetReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataStoreChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DataStoreReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentEventACI"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentEventAKS"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "DeploymentReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "EnvironmentChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "EnvironmentReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "InferencingOperationACI"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "InferencingOperationAKS"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsActionEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ModelsReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "PipelineChangeEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "PipelineReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RunEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RunReadEvent"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.ai_administrator will be created
  + resource "azurerm_role_assignment" "ai_administrator" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Administrator"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-prod-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.ai_network_connection_approver will be created
  + resource "azurerm_role_assignment" "ai_network_connection_approver" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Azure AI Enterprise Network Connection Approver"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-prod-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_acr_pull will be created
  + resource "azurerm_role_assignment" "compute_acr_pull" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPull"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_acr_push will be created
  + resource "azurerm_role_assignment" "compute_acr_push" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPush"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_keyvault_secrets_user will be created
  + resource "azurerm_role_assignment" "compute_keyvault_secrets_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_ml_data_scientist will be created
  + resource "azurerm_role_assignment" "compute_ml_data_scientist" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AzureML Data Scientist"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_rg_reader will be created
  + resource "azurerm_role_assignment" "compute_rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-prod-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_storage_blob_contributor will be created
  + resource "azurerm_role_assignment" "compute_storage_blob_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_storage_file_privileged_contributor will be created
  + resource "azurerm_role_assignment" "compute_storage_file_privileged_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage File Data Privileged Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.compute_workspace_contributor will be created
  + resource "azurerm_role_assignment" "compute_workspace_contributor" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.rg_reader will be created
  + resource "azurerm_role_assignment" "rg_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-ws-prod-cc-03"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.workspace_key_vault_reader will be created
  + resource "azurerm_role_assignment" "workspace_key_vault_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.workspace_key_vault_secrets_user will be created
  + resource "azurerm_role_assignment" "workspace_key_vault_secrets_user" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_role_assignment.workspace_storage_blob_owner will be created
  + resource "azurerm_role_assignment" "workspace_storage_blob_owner" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.prod_managed_umi.azurerm_user_assigned_identity.workspace_identity will be created
  + resource "azurerm_user_assigned_identity" "workspace_identity" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "canadacentral"
      + name                = "prod-mi-workspace"
      + principal_id        = (known after apply)
      + resource_group_name = "rg-aml-ws-prod-cc-03"
      + tags                = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + tenant_id           = (known after apply)
    }

  # module.prod_managed_umi.time_sleep.wait_for_compute_resources will be created
  + resource "time_sleep" "wait_for_compute_resources" {
      + create_duration = "180s"
      + id              = (known after apply)
    }

  # module.prod_managed_umi.time_sleep.wait_rbac_role_propagation will be created
  + resource "time_sleep" "wait_rbac_role_propagation" {
      + create_duration = "90s"
      + id              = (known after apply)
    }

  # module.prod_managed_umi.time_sleep.wait_workspace_slot will be created
  + resource "time_sleep" "wait_workspace_slot" {
      + create_duration = "150s"
      + id              = (known after apply)
    }

  # module.prod_registry.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.prod_registry.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.prod_registry.azapi_resource.registry will be created
  + resource "azapi_resource" "registry" {
      + body                      = {
          + identity   = {
              + type = "SystemAssigned"
            }
          + properties = {
              + managedResourceGroupSettings = {
                  + assignedIdentities = [
                      + {
                          + principalId = (known after apply)
                        },
                    ]
                }
              + publicNetworkAccess          = "Disabled"
              + regionDetails                = [
                  + {
                      + acrDetails            = [
                          + {
                              + systemCreatedAcrAccount = {
                                  + acrAccountSku = "Premium"
                                }
                            },
                        ]
                      + location              = "canadacentral"
                      + storageAccountDetails = [
                          + {
                              + systemCreatedStorageAccount = {
                                  + storageAccountHnsEnabled = false
                                  + storageAccountType       = "Standard_LRS"
                                }
                            },
                        ]
                    },
                ]
            }
          + tags       = {
              + created_by  = "terraform"
              + deployment  = "flat-vnet-bastion"
              + environment = "production"
              + owner       = "ml-team"
              + project     = "ml-platform"
              + purpose     = "prod"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + location                  = "canadacentral"
      + name                      = "mlrprodcc03"
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + response_export_values    = [
          + "identity.principalId",
        ]
      + schema_validation_enabled = false
      + tags                      = (known after apply)
      + type                      = "Microsoft.MachineLearningServices/registries@2025-01-01-preview"
    }

  # module.prod_registry.azurerm_monitor_diagnostic_setting.registry_diagnostics will be created
  + resource "azurerm_monitor_diagnostic_setting" "registry_diagnostics" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "mlrprodcc03-diagnostics"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "RegistryAssetReadEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "RegistryAssetWriteEvent"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.prod_registry.null_resource.registry_managed_resources_diagnostics will be created
  + resource "null_resource" "registry_managed_resources_diagnostics" {
      + id       = (known after apply)
      + triggers = {
          + "registry_id"  = (known after apply)
          + "workspace_id" = (known after apply)
        }
    }

  # module.prod_registry.time_sleep.wait_registry_identity will be created
  + resource "time_sleep" "wait_registry_identity" {
      + create_duration = "10s"
      + id              = (known after apply)
    }

  # module.dev_managed_umi.module.container_registry.azurerm_container_registry.acr will be created
  + resource "azurerm_container_registry" "acr" {
      + admin_enabled                 = false
      + admin_password                = (sensitive value)
      + admin_username                = (known after apply)
      + anonymous_pull_enabled        = false
      + encryption                    = (known after apply)
      + export_policy_enabled         = true
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + login_server                  = (known after apply)
      + name                          = "acrdevcc03"
      + network_rule_bypass_option    = "AzureServices"
      + network_rule_set              = [
          + {
              + default_action = "Deny"
              + ip_rule        = (known after apply)
            },
        ]
      + public_network_access_enabled = false
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + sku                           = "Premium"
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + trust_policy_enabled          = false
      + zone_redundancy_enabled       = false

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }
    }

  # module.dev_managed_umi.module.container_registry.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "acrdevcc03-diag-base-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "ContainerRegistryLoginEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ContainerRegistryRepositoryEvents"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.container_registry.null_resource.acr_cleanup[0] will be created
  + resource "null_resource" "acr_cleanup" {
      + id       = (known after apply)
      + triggers = {
          + "acr_name" = "acrdevcc03"
          + "location" = "canadacentral"
        }
    }

  # module.dev_managed_umi.module.keyvault_aml.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.dev_managed_umi.module.keyvault_aml.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.dev_managed_umi.module.keyvault_aml.azurerm_key_vault.kv will be created
  + resource "azurerm_key_vault" "kv" {
      + access_policy                   = (known after apply)
      + enable_rbac_authorization       = true
      + enabled_for_deployment          = true
      + enabled_for_disk_encryption     = false
      + enabled_for_template_deployment = true
      + id                              = (known after apply)
      + location                        = "canadacentral"
      + name                            = "kvdevcc03"
      + public_network_access_enabled   = false
      + purge_protection_enabled        = false
      + resource_group_name             = "rg-aml-ws-dev-cc-03"
      + sku_name                        = "premium"
      + soft_delete_retention_days      = 7
      + tags                            = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }
      + tenant_id                       = (known after apply)
      + vault_uri                       = (known after apply)

      + contact (known after apply)

      + network_acls {
          + bypass         = "AzureServices"
          + default_action = "Deny"
        }
    }

  # module.dev_managed_umi.module.keyvault_aml.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "kvdevcc03-diagnostics-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AuditEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AzurePolicyEvaluationDetails"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.keyvault_aml.null_resource.keyvault_purge[0] will be created
  + resource "null_resource" "keyvault_purge" {
      + id       = (known after apply)
      + triggers = {
          + "kv_name"  = "kvdevcc03"
          + "location" = "canadacentral"
        }
    }

  # module.dev_managed_umi.module.private_endpoint_aml_workspace.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpemlwdevcc03amlworkspace"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pemlwdevcc03amlworkspace"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcmlwdevcc03"
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecmlwdevcc03amlworkspace"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "amlworkspace",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_container_registry.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpeacrdevcc03registry"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "peacrdevcc03registry"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcacrdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.azurecr.io",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecacrdevcc03registry"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "registry",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_kv.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpekvdevcc03vault"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pekvdevcc03vault"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgckvdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "peckvdevcc03vault"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "vault",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_st_default_blob.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestdevcc03blob"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestdevcc03blob"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstdevcc03blob"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "blob",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_st_default_file.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestdevcc03file"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestdevcc03file"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstdevcc03file"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "file",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_st_default_queue.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestdevcc03queue"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestdevcc03queue"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstdevcc03queue"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "queue",
            ]
        }
    }

  # module.dev_managed_umi.module.private_endpoint_st_default_table.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestdevcc03table"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestdevcc03table"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstdevcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.table.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstdevcc03table"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "table",
            ]
        }
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stdevcc03-diag-base-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_metric {
          + category = "Capacity"
        }
      + enabled_metric {
          + category = "Transaction"
        }

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-blob will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-blob" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stdevcc03-diag-blob-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-file will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-file" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stdevcc03-diag-file-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-queue will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-queue" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stdevcc03-diag-queue-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-table will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-table" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stdevcc03-diag-table-dev-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.azurerm_storage_account.storage_account will be created
  + resource "azurerm_storage_account" "storage_account" {
      + access_tier                        = (known after apply)
      + account_kind                       = "StorageV2"
      + account_replication_type           = "LRS"
      + account_tier                       = "Standard"
      + allow_nested_items_to_be_public    = false
      + cross_tenant_replication_enabled   = false
      + default_to_oauth_authentication    = false
      + dns_endpoint_type                  = "Standard"
      + https_traffic_only_enabled         = true
      + id                                 = (known after apply)
      + infrastructure_encryption_enabled  = false
      + is_hns_enabled                     = false
      + large_file_share_enabled           = (known after apply)
      + local_user_enabled                 = true
      + location                           = "canadacentral"
      + min_tls_version                    = "TLS1_2"
      + name                               = "stdevcc03"
      + nfsv3_enabled                      = false
      + primary_access_key                 = (sensitive value)
      + primary_blob_connection_string     = (sensitive value)
      + primary_blob_endpoint              = (known after apply)
      + primary_blob_host                  = (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      + primary_connection_string          = (sensitive value)
      + primary_dfs_endpoint               = (known after apply)
      + primary_dfs_host                   = (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      + primary_file_endpoint              = (known after apply)
      + primary_file_host                  = (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      + primary_location                   = (known after apply)
      + primary_queue_endpoint             = (known after apply)
      + primary_queue_host                 = (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      + primary_table_endpoint             = (known after apply)
      + primary_table_host                 = (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      + primary_web_endpoint               = (known after apply)
      + primary_web_host                   = (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      + public_network_access_enabled      = false
      + queue_encryption_key_type          = "Service"
      + resource_group_name                = "rg-aml-ws-dev-cc-03"
      + secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      + secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      + secondary_location                 = (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      + sftp_enabled                       = false
      + shared_access_key_enabled          = true
      + table_encryption_key_type          = "Service"
      + tags                               = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + blob_properties {
          + change_feed_enabled      = false
          + default_service_version  = (known after apply)
          + last_access_time_enabled = false
          + versioning_enabled       = false
        }

      + network_rules {
          + bypass                     = [
              + "AzureServices",
            ]
          + default_action             = "Deny"
          + ip_rules                   = (known after apply)
          + virtual_network_subnet_ids = (known after apply)

          + private_link_access {
              + endpoint_resource_id = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourcegroups/*/providers/Microsoft.MachineLearningServices/workspaces/*"
              + endpoint_tenant_id   = (known after apply)
            }
        }

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)

      + static_website (known after apply)
    }

  # module.dev_managed_umi.module.storage_account_default.null_resource.storage_cleanup[0] will be created
  + resource "null_resource" "storage_cleanup" {
      + id       = (known after apply)
      + triggers = {
          + "resource_group" = "rg-aml-ws-dev-cc-03"
          + "storage_name"   = "stdevcc03"
        }
    }

  # module.dev_registry.module.private_endpoint_aml_registry.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpemlrdevcc03amlregistry"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pemlrdevcc03amlregistry"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-reg-dev-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "development"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "dev"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcmlrdevcc03"
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecmlrdevcc03amlregistry"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "amlregistry",
            ]
        }
    }

  # module.prod_managed_umi.module.container_registry.azurerm_container_registry.acr will be created
  + resource "azurerm_container_registry" "acr" {
      + admin_enabled                 = false
      + admin_password                = (sensitive value)
      + admin_username                = (known after apply)
      + anonymous_pull_enabled        = false
      + encryption                    = (known after apply)
      + export_policy_enabled         = true
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + login_server                  = (known after apply)
      + name                          = "acrprodcc03"
      + network_rule_bypass_option    = "AzureServices"
      + network_rule_set              = [
          + {
              + default_action = "Deny"
              + ip_rule        = (known after apply)
            },
        ]
      + public_network_access_enabled = false
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + sku                           = "Premium"
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + trust_policy_enabled          = false
      + zone_redundancy_enabled       = false

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }
    }

  # module.prod_managed_umi.module.container_registry.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "acrprodcc03-diag-base-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "ContainerRegistryLoginEvents"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "ContainerRegistryRepositoryEvents"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.container_registry.null_resource.acr_cleanup[0] will be created
  + resource "null_resource" "acr_cleanup" {
      + id       = (known after apply)
      + triggers = {
          + "acr_name" = "acrprodcc03"
          + "location" = "canadacentral"
        }
    }

  # module.prod_managed_umi.module.keyvault_aml.data.azurerm_client_config.identity_config will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_client_config" "identity_config" {
      + client_id       = (known after apply)
      + id              = (known after apply)
      + object_id       = (known after apply)
      + subscription_id = (known after apply)
      + tenant_id       = (known after apply)
    }

  # module.prod_managed_umi.module.keyvault_aml.data.azurerm_subscription.current will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "azurerm_subscription" "current" {
      + display_name          = (known after apply)
      + id                    = (known after apply)
      + location_placement_id = (known after apply)
      + quota_id              = (known after apply)
      + spending_limit        = (known after apply)
      + state                 = (known after apply)
      + subscription_id       = (known after apply)
      + tags                  = (known after apply)
      + tenant_id             = (known after apply)
    }

  # module.prod_managed_umi.module.keyvault_aml.azurerm_key_vault.kv will be created
  + resource "azurerm_key_vault" "kv" {
      + access_policy                   = (known after apply)
      + enable_rbac_authorization       = true
      + enabled_for_deployment          = true
      + enabled_for_disk_encryption     = false
      + enabled_for_template_deployment = true
      + id                              = (known after apply)
      + location                        = "canadacentral"
      + name                            = "kvprodcc03"
      + public_network_access_enabled   = false
      + purge_protection_enabled        = false
      + resource_group_name             = "rg-aml-ws-prod-cc-03"
      + sku_name                        = "premium"
      + soft_delete_retention_days      = 7
      + tags                            = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }
      + tenant_id                       = (known after apply)
      + vault_uri                       = (known after apply)

      + contact (known after apply)

      + network_acls {
          + bypass         = "AzureServices"
          + default_action = "Deny"
        }
    }

  # module.prod_managed_umi.module.keyvault_aml.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "kvprodcc03-diagnostics-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "AuditEvent"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "AzurePolicyEvaluationDetails"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric {
          + category = "AllMetrics"
        }

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.keyvault_aml.null_resource.keyvault_purge[0] will be created
  + resource "null_resource" "keyvault_purge" {
      + id       = (known after apply)
      + triggers = {
          + "kv_name"  = "kvprodcc03"
          + "location" = "canadacentral"
        }
    }

  # module.prod_managed_umi.module.private_endpoint_aml_workspace.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpemlwprodcc03amlworkspace"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pemlwprodcc03amlworkspace"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcmlwprodcc03"
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecmlwprodcc03amlworkspace"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "amlworkspace",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_container_registry.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpeacrprodcc03registry"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "peacrprodcc03registry"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcacrprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.azurecr.io",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecacrprodcc03registry"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "registry",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_kv.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpekvprodcc03vault"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pekvprodcc03vault"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgckvprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "peckvprodcc03vault"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "vault",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_st_default_blob.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestprodcc03blob"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestprodcc03blob"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstprodcc03blob"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "blob",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_st_default_file.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestprodcc03file"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestprodcc03file"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstprodcc03file"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "file",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_st_default_queue.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestprodcc03queue"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestprodcc03queue"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstprodcc03queue"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "queue",
            ]
        }
    }

  # module.prod_managed_umi.module.private_endpoint_st_default_table.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpestprodcc03table"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pestprodcc03table"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-ws-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcstprodcc03"
          + private_dns_zone_ids = [
              + "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourceGroups/rg-aml-dns-shared-cc-03/providers/Microsoft.Network/privateDnsZones/privatelink.table.core.windows.net",
            ]
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecstprodcc03table"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "table",
            ]
        }
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-base will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-base" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stprodcc03-diag-base-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_metric {
          + category = "Capacity"
        }
      + enabled_metric {
          + category = "Transaction"
        }

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-blob will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-blob" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stprodcc03-diag-blob-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-file will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-file" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stprodcc03-diag-file-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-queue will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-queue" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stprodcc03-diag-queue-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_monitor_diagnostic_setting.diag-table will be created
  + resource "azurerm_monitor_diagnostic_setting" "diag-table" {
      + id                             = (known after apply)
      + log_analytics_destination_type = (known after apply)
      + log_analytics_workspace_id     = (known after apply)
      + name                           = "stprodcc03-diag-table-prod-03"
      + target_resource_id             = (known after apply)

      + enabled_log {
          + category       = "StorageDelete"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageRead"
            # (1 unchanged attribute hidden)
        }
      + enabled_log {
          + category       = "StorageWrite"
            # (1 unchanged attribute hidden)
        }

      + enabled_metric (known after apply)

      + metric (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.azurerm_storage_account.storage_account will be created
  + resource "azurerm_storage_account" "storage_account" {
      + access_tier                        = (known after apply)
      + account_kind                       = "StorageV2"
      + account_replication_type           = "LRS"
      + account_tier                       = "Standard"
      + allow_nested_items_to_be_public    = false
      + cross_tenant_replication_enabled   = false
      + default_to_oauth_authentication    = false
      + dns_endpoint_type                  = "Standard"
      + https_traffic_only_enabled         = true
      + id                                 = (known after apply)
      + infrastructure_encryption_enabled  = false
      + is_hns_enabled                     = false
      + large_file_share_enabled           = (known after apply)
      + local_user_enabled                 = true
      + location                           = "canadacentral"
      + min_tls_version                    = "TLS1_2"
      + name                               = "stprodcc03"
      + nfsv3_enabled                      = false
      + primary_access_key                 = (sensitive value)
      + primary_blob_connection_string     = (sensitive value)
      + primary_blob_endpoint              = (known after apply)
      + primary_blob_host                  = (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      + primary_connection_string          = (sensitive value)
      + primary_dfs_endpoint               = (known after apply)
      + primary_dfs_host                   = (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      + primary_file_endpoint              = (known after apply)
      + primary_file_host                  = (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      + primary_location                   = (known after apply)
      + primary_queue_endpoint             = (known after apply)
      + primary_queue_host                 = (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      + primary_table_endpoint             = (known after apply)
      + primary_table_host                 = (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      + primary_web_endpoint               = (known after apply)
      + primary_web_host                   = (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      + public_network_access_enabled      = false
      + queue_encryption_key_type          = "Service"
      + resource_group_name                = "rg-aml-ws-prod-cc-03"
      + secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      + secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      + secondary_location                 = (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      + sftp_enabled                       = false
      + shared_access_key_enabled          = true
      + table_encryption_key_type          = "Service"
      + tags                               = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + blob_properties {
          + change_feed_enabled      = false
          + default_service_version  = (known after apply)
          + last_access_time_enabled = false
          + versioning_enabled       = false
        }

      + network_rules {
          + bypass                     = [
              + "AzureServices",
            ]
          + default_action             = "Deny"
          + ip_rules                   = (known after apply)
          + virtual_network_subnet_ids = (known after apply)

          + private_link_access {
              + endpoint_resource_id = "/subscriptions/5784b6a5-de3f-4fa4-8b8f-e5bb70ff6b25/resourcegroups/*/providers/Microsoft.MachineLearningServices/workspaces/*"
              + endpoint_tenant_id   = (known after apply)
            }
        }

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)

      + static_website (known after apply)
    }

  # module.prod_managed_umi.module.storage_account_default.null_resource.storage_cleanup[0] will be created
  + resource "null_resource" "storage_cleanup" {
      + id       = (known after apply)
      + triggers = {
          + "resource_group" = "rg-aml-ws-prod-cc-03"
          + "storage_name"   = "stprodcc03"
        }
    }

  # module.prod_registry.module.private_endpoint_aml_registry.azurerm_private_endpoint.pe will be created
  + resource "azurerm_private_endpoint" "pe" {
      + custom_dns_configs            = (known after apply)
      + custom_network_interface_name = "nicpemlrprodcc03amlregistry"
      + id                            = (known after apply)
      + location                      = "canadacentral"
      + name                          = "pemlrprodcc03amlregistry"
      + network_interface             = (known after apply)
      + private_dns_zone_configs      = (known after apply)
      + resource_group_name           = "rg-aml-reg-prod-cc-03"
      + subnet_id                     = (known after apply)
      + tags                          = {
          + "created_by"  = "terraform"
          + "deployment"  = "flat-vnet-bastion"
          + "environment" = "production"
          + "owner"       = "ml-team"
          + "project"     = "ml-platform"
          + "purpose"     = "prod"
        }

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = "pezgcmlrprodcc03"
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = "pecmlrprodcc03amlregistry"
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "amlregistry",
            ]
        }
    }

Plan: 200 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  + cross_environment_connectivity     = {
      + dev_to_prod_registry_access = {
          + description = "Production workspace can pull from development registry"
          + enabled     = true
        }
      + prod_workspace_permissions  = {
          + dev_registry_contributor = "Configured for asset promotion"
          + dev_registry_reader      = "Configured"
        }
    }
  + dev_container_registry_name        = "acrdevcc03"
  + dev_key_vault_name                 = "kvdevcc03"
  + dev_private_endpoint_fqdns         = {
      + container_registry = "acrdevcc03.azurecr.io"
      + key_vault          = "kvdevcc03.vaultcore.azure.net"
      + storage_blob       = "stdevcc03.blob.core.windows.net"
      + storage_file       = "stdevcc03.file.core.windows.net"
      + workspace_api      = "mlwdevcc03.privatelink.api.azureml.ms"
    }
  + dev_registry_id                    = (known after apply)
  + dev_registry_name                  = "mlrdevcc03"
  + dev_storage_account_name           = "stdevcc03"
  + dev_subnet_id                      = (known after apply)
  + dev_vnet_id                        = (known after apply)
  + dev_workspace_id                   = (known after apply)
  + dev_workspace_name                 = "mlwdevcc03"
  + dev_workspace_private_endpoint_ip  = (known after apply)
  + key_vault_purge_protection_enabled = false
  + naming_suffix                      = "03"
  + platform_deployment_summary        = {
      + deployment_timestamp  = (known after apply)
      + environment_config    = {
          + development = {
              + auto_purge_enabled    = true
              + cross_env_rbac        = false
              + purpose               = "dev"
              + subnet_address_prefix = "10.1.1.0/24"
              + vnet_address_space    = "10.1.0.0/16"
            }
          + production  = {
              + auto_purge_enabled    = false
              + cross_env_rbac        = true
              + purpose               = "prod"
              + subnet_address_prefix = "10.2.1.0/24"
              + vnet_address_space    = "10.2.0.0/16"
            }
        }
      + environments_deployed = [
          + "development",
          + "production",
        ]
      + key_endpoints         = {
          + development = {
              + container_registry = "acrdevcc03.azurecr.io"
              + key_vault          = "https://kvdevcc03.vault.azure.net"
              + registry_endpoint  = "https://mlrdevcc03.registry.azureml.ms"
              + storage_account    = "https://stdevcc03.blob.core.windows.net"
              + workspace_endpoint = "https://mlwdevcc03.api.azureml.ms"
            }
          + production  = {
              + container_registry = "acrprodcc03.azurecr.io"
              + key_vault          = "https://kvprodcc03.vault.azure.net"
              + registry_endpoint  = "https://mlrprodcc03.registry.azureml.ms"
              + storage_account    = "https://stprodcc03.blob.core.windows.net"
              + workspace_endpoint = "https://mlwprodcc03.api.azureml.ms"
            }
        }
      + key_vault_security    = {
          + auto_purge_enabled       = true
          + purge_protection_enabled = false
        }
      + region                = "canadacentral"
      + region_code           = "cc"
      + resource_groups       = {
          + dev_registry_rg   = "rg-aml-reg-dev-cc-03"
          + dev_vnet_rg       = "rg-aml-vnet-dev-cc-03"
          + dev_workspace_rg  = "rg-aml-ws-dev-cc-03"
          + prod_registry_rg  = "rg-aml-reg-prod-cc-03"
          + prod_vnet_rg      = "rg-aml-vnet-prod-cc-03"
          + prod_workspace_rg = "rg-aml-ws-prod-cc-03"
          + shared_dns_rg     = "rg-aml-dns-shared-cc-03"
        }
      + resource_naming       = {
          + example_dev  = "mlwdevcc03"
          + example_prod = "mlwprodcc03"
          + pattern      = "[prefix][service][purpose][location_code][naming_suffix]"
        }
      + service_principal     = {
          + application_id = (known after apply)
          + name           = "sp-aml-deployment-platform"
        }
      + tags_applied          = {
          + created_by  = "terraform"
          + deployment  = "flat-vnet-bastion"
          + environment = "multi-env"
          + owner       = "ml-team"
          + project     = "ml-platform"
        }
      + terraform_version     = "~> 1.0"
    }
  + prod_container_registry_name       = "acrprodcc03"
  + prod_key_vault_name                = "kvprodcc03"
  + prod_private_endpoint_fqdns        = {
      + container_registry = "acrprodcc03.azurecr.io"
      + key_vault          = "kvprodcc03.vaultcore.azure.net"
      + storage_blob       = "stprodcc03.blob.core.windows.net"
      + storage_file       = "stprodcc03.file.core.windows.net"
      + workspace_api      = "mlwprodcc03.privatelink.api.azureml.ms"
    }
  + prod_registry_id                   = (known after apply)
  + prod_registry_name                 = "mlrprodcc03"
  + prod_storage_account_name          = "stprodcc03"
  + prod_subnet_id                     = (known after apply)
  + prod_vnet_id                       = (known after apply)
  + prod_workspace_id                  = (known after apply)
  + prod_workspace_name                = "mlwprodcc03"
  + prod_workspace_private_endpoint_ip = (known after apply)
  + resource_group_names               = {
      + dev_registry   = "rg-aml-reg-dev-cc-03"
      + dev_vnet       = "rg-aml-vnet-dev-cc-03"
      + dev_workspace  = "rg-aml-ws-dev-cc-03"
      + prod_registry  = "rg-aml-reg-prod-cc-03"
      + prod_vnet      = "rg-aml-vnet-prod-cc-03"
      + prod_workspace = "rg-aml-ws-prod-cc-03"
      + shared_dns     = "rg-aml-dns-shared-cc-03"
    }
  + service_principal_application_id   = (known after apply)
  + service_principal_display_name     = "sp-aml-deployment-platform"
  + service_principal_object_id        = (known after apply)
  + shared_aml_dns_zone_ids            = {
      + api       = (known after apply)
      + instances = (known after apply)
      + notebooks = (known after apply)
    }
